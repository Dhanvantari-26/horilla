{% extends 'settings.html' %} 
{% load i18n %} 
{% load static %}

{% block settings %}
<div class="oh-inner-sidebar-content">
	{% if perms.base.view_designation %}
		<div class="oh-inner-sidebar-content__header d-flex justify-content-between align-items-center">
			<h2 class="oh-inner-sidebar-content__title">{% trans "Designation" %}</h2>
			{% if perms.base.add_designation %}
				<button
					class="oh-btn oh-btn--secondary oh-btn--shadow"
					data-toggle="oh-modal-toggle"
					data-target="#designationModal"
					hx-get="{% url 'designation-create' %}" 
					hx-target="#designationForm"
				>
					<ion-icon name="add-outline" class="me-1"></ion-icon>
					{% trans "Create" %}
				</button>
			{% endif %}
		</div>

		<!-- Display Designation List if Available -->
		{% if designations %}
			<table class="table table-striped">
				<thead>
					<tr>
						<th>{% trans "ID" %}</th>
						<th>{% trans "Designation" %}</th>
					</tr>
				</thead>
				<tbody>
					{% for designation in designations %}
						<tr>
							<td>{{ designation.id }}</td>
							<td>{{ designation.designation }}</td>
						</tr>
					{% empty %}
						<tr>
							<td colspan="2" class="text-center">{% trans "No designations found." %}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% else %}
			<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%;">
				<h5 class="oh-404__subtitle">{% trans "There are no designations at this moment." %}</h5>
			</div>
		{% endif %}
	{% endif %}
</div>

<!-- Modal for Adding Designation -->
<div class="oh-modal" id="designationModal" role="dialog" aria-labelledby="designationModal" aria-hidden="true">
	<div class="oh-modal__dialog" id="designationForm"></div>
</div>

{% endblock settings %}
